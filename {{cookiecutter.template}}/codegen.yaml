schema:
  - packages/{{cookiecutter.packages.strapi}}/exports/graphql/schema.graphql
watch:
  - packages/{{cookiecutter.packages.strapi}}/exports/**/*.graphql
  - packages/*/src/**/*.graphql
hooks:
  afterAllFileWrite:
    - prettier --write
config:
  typescript:
    scalars:
      Date: Date
      Time: Date
      JSON: Record<string, any>
      Long: number
      DateTime: Date
generates:
  packages/{{cookiecutter.packages.react}}/src/graphql/index.tsx:
    plugins:
      - typescript
      - typescript-operations
      - typescript-react-apollo:
          reactApolloVersion: 3
          withHOC: true
          withResultType: true
          addDocBlocks: true
          withHooks: true
          withComponent: true
    documents:
      - packages/{{cookiecutter.packages.react}}/src/graphql/**/*.graphql
      - packages/{{cookiecutter.packages.strapi}}/exports/graphql/fragments/*.graphql
      - packages/{{cookiecutter.packages.strapi}}/exports/graphql/extensions/*.graphql
